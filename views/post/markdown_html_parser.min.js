!function(a,b){if("function"==typeof define)define(b);else if("undefined"!=typeof module&&module.exports)module.exports=b();else{var c=b(),d=this,e=d[a];c.noConflict=function(){return d[a]=e,c},d[a]=c}}("markdownHTMLParser",function(){function a(a,b){function l(a,c,d,k){if(g[c])for(;q.last()&&h[q.last()];)m("",q.last());if(i[c]&&q.last()==c&&m("",c),k=f[c]||!!k,k||q.push(c),b.start){var l=[];d.replace(e,function(a,b){var c=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:j[b]?b:"";l.push({name:b,value:c,escaped:c.replace(/(^|[^\\])"/g,'$1\\"')})}),b.start&&b.start(c,l,k)}}function m(a,c){if(c)for(var d=q.length-1;d>=0&&q[d]!=c;d--);else var d=0;if(d>=0){for(var e=q.length-1;e>=d;e--)b.end&&b.end(q[e]);q.length=d}}var n,o,p,q=[],r=a;for(q.last=function(){return this[this.length-1]};a;){if(o=!0,q.last()&&k[q.last()])a=a.replace(new RegExp("(.*)</"+q.last()+"[^>]*>"),function(a,c){return c=c.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),b.chars&&b.chars(c),""}),m("",q.last());else if(0==a.indexOf("<!--")?(n=a.indexOf("-->"),n>=0&&(b.comment&&b.comment(a.substring(4,n)),a=a.substring(n+3),o=!1)):0==a.indexOf("</")?(p=a.match(d),p&&(a=a.substring(p[0].length),p[0].replace(d,m),o=!1)):0==a.indexOf("<")&&(p=a.match(c),p&&(a=a.substring(p[0].length),p[0].replace(c,l),o=!1)),o){n=a.indexOf("<");var s=0>n?a:a.substring(0,n);a=0>n?"":a.substring(n),b.chars&&b.chars(s)}if(a==r)throw"Parse Error: "+a;r=a}m()}function b(a){for(var b={},c=a.split(","),d=0;d<c.length;d++)b[c[d]]=!0;return b}var c=/^<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,d=/^<\/(\w+)[^>]*>/,e=/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),g=b("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),h=b("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),i=b("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),j=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),k=b("script,style");return this.HTMLtoXML=function(b){var c="";return a(b,{start:function(a,b,d){c+="<"+a;for(var e=0;e<b.length;e++)c+=" "+b[e].name+'="'+b[e].escaped+'"';c+=(d?"/":"")+">"},end:function(a){c+="</"+a+">"},chars:function(a){c+=a},comment:function(a){c+="<!--"+a+"-->"}}),c},this.HTMLtoDOM=function(c,d){var e=b("html,head,body,title"),f={link:"head",base:"head"};d?d=d.ownerDocument||d.getOwnerDocument&&d.getOwnerDocument()||d:"undefined"!=typeof DOMDocument?d=new DOMDocument:"undefined"!=typeof document&&document.implementation&&document.implementation.createDocument?d=document.implementation.createDocument("","",null):"undefined"!=typeof ActiveX&&(d=new ActiveXObject("Msxml.DOMDocument"));var g=[],h=d.documentElement||d.getDocumentElement&&d.getDocumentElement();if(!h&&d.createElement&&function(){var a=d.createElement("html"),b=d.createElement("head");b.appendChild(d.createElement("title")),a.appendChild(b),a.appendChild(d.createElement("body")),d.appendChild(a)}(),d.getElementsByTagName)for(var i in e)e[i]=d.getElementsByTagName(i)[0];var j=e.body;return a(c,{start:function(a,b,c){if(e[a])return void(j=e[a]);var h=d.createElement(a);for(var i in b)h.setAttribute(b[i].name,b[i].value);f[a]&&"boolean"!=typeof e[f[a]]?e[f[a]].appendChild(h):j&&j.appendChild&&j.appendChild(h),c||(g.push(h),j=h)},end:function(){g.length-=1,j=g[g.length-1]},chars:function(a){j.appendChild(d.createTextNode(a))},comment:function(){}}),d},a});