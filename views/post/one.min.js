var app=app||{};app.PostCreate=Backbone.Model.extend({id:void 0,url:function(){return"/1/post/"+this.attributes.id},background:function(){return"/uploads/"+this.attributes.filename},defaults:{success:!1,errors:[],errfor:{},subject:"",content:"",filename:""}}),app.PostCreateView=Backbone.View.extend({el:"#post",template:_.template($("#tmpl-post").html()),events:{},initialize:function(){this.model=new app.PostCreate,this.listenTo(this.model,"sync",this.render),this.fetchData()},render:function(){this.$el.html(this.template(this.model.attributes)),$(".background").css("background-image","url("+this.model.background()+")")},fetchData:function(){var a=this.$el.data("post-id"),b=this;this.model.set("id",a),this.model.fetch({success:function(a,c){b.model.set("subject",c.data.subject),b.model.set("content",c.data.content),b.model.set("filename",c.data.filename)}})}}),$(document).ready(function(){app.PostCreateView=new app.PostCreateView});